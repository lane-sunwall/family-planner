<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Family Weekly Planner</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #333;
      line-height: 1.6;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    h1, h2, h3, h4 {
      color: #4a5568;
    }
    input, textarea {
      font-family: inherit;
      font-size: 1rem;
      width: 100%;
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    textarea {
      resize: vertical;
    }
    label {
      font-weight: bold;
      display: block;
      margin: 10px 0 5px;
    }
    .header {
      background: white;
      border-radius: 15px;
      padding: 30px;
      margin-bottom: 30px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      text-align: center;
    }
    .header h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
    }
    .week-info {
      display: flex;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 15px;
      align-items: center;
    }
    .week-input label {
      margin-right: 8px;
    }
    .fun-activity-tracker {
      background: #fef5e7;
      border: 2px solid #f6ad55;
      border-radius: 10px;
      padding: 10px 20px;
      font-weight: bold;
      color: #dd6b20;
    }
    .btn {
      background: linear-gradient(135deg, #667eea, #764ba2);
      color: white;
      border: none;
      padding: 12px 25px;
      border-radius: 25px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
      transition: all 0.3s ease;
      margin: 5px;
    }
    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.2);
    }
    .day-planning {
      background: white;
      border-radius: 10px;
      padding: 20px;
      margin-bottom: 25px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    .optional-section {
      background: #f0f4f8;
      border-radius: 10px;
      padding: 20px;
      margin-top: 30px;
    }
    .chore-template-box {
      background: #fff;
      border: 1px solid #ccc;
      border-radius: 10px;
      padding: 15px;
      margin: 20px 0;
    }

    /* Print mode */
    @media print {
      body {
        background: white;
        color: black;
      }
      .btn,
      .chore-template-box,
      .fun-activity-tracker,
      .header {
        display: none !important;
      }
      input, textarea {
        border: none;
        outline: none;
        resize: none;
        box-shadow: none;
        background: transparent;
      }
      .container {
        max-width: 100%;
        padding: 0 20px;
      }
      .day-planning {
        page-break-inside: avoid;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>ğŸ¡ Family Weekly Planner</h1>
      <div class="week-info">
        <div class="week-input">
          <label for="weekOf">Week of:</label>
          <input type="date" id="weekOf" onchange="updateWeekDates()" />
        </div>
        <div class="fun-activity-tracker">
          ğŸ‰ Next Fun Activity Chooser: <span id="activityChooser">Hannah</span>
        </div>
      </div>
    </div>

    <!-- Chore Template Sidebar -->
    <div class="chore-template-box">
      <h2>ğŸ§¹ Chore Templates</h2>
      <p>Click to autofill each day's chore section with sample tasks.</p>
      <button class="btn" onclick="insertChoreTemplates()">Insert Example Chores</button>
    </div>

    <!-- Weekly Overview Section -->
    <div class="planning-section">
      <h2>ğŸ“‹ Weekly Overview & Goals</h2>
      <div class="weekly-overview">
        <div>
          <label>Last Week's Wins ğŸ†</label>
          <textarea id="lastWeekWins" rows="3" placeholder="What went well last week?"></textarea>
        </div>
        <div>
          <label>This Week's Family Goals ğŸ¯</label>
          <textarea id="weeklyGoals" rows="3" placeholder="What do we want to focus on this week?"></textarea>
        </div>
        <div>
          <label>Weekly Budget for Activities ğŸ’°</label>
          <input type="number" id="weeklyBudget" placeholder="$0" />
        </div>
        <div>
          <label>Weather Considerations ğŸŒ¤ï¸</label>
          <textarea id="weatherNotes" rows="3" placeholder="Any weather-related plans or backup ideas?"></textarea>
        </div>
      </div>
    </div>

    <!-- Chore Template Script -->
    <script>
      function insertChoreTemplates() {
        const choresByDay = {
          monday: 'ğŸ§º Laundry, ğŸ§¹ Sweep kitchen',
          tuesday: 'ğŸ—‘ï¸ Take out trash, ğŸ§½ Wipe counters',
          wednesday: 'ğŸ›ï¸ Change bedding, ğŸ§¼ Clean bathroom',
          thursday: 'ğŸ§º Fold laundry, ğŸ§½ Dust shelves',
          friday: 'ğŸ§½ Vacuum, ğŸ§¼ Mop floors',
          saturday: 'ğŸ›’ Grocery shopping, ğŸ§º Wash towels',
          sunday: 'ğŸ§˜ Rest day, ğŸ“š Organize books'
        };

        Object.entries(choresByDay).forEach(([day, text]) => {
          const el = document.getElementById(`${day}-chores`);
          if (el) el.value = text;
        });
      }
    </script>
  </div>
  <div class="container">
    <div class="header">
      <h1>ğŸ¡ Family Weekly Planner</h1>
      <div class="week-info">
        <div class="week-input">
          <label for="weekOf">Week of:</label>
          <input type="date" id="weekOf" onchange="updateWeekDates()" />
        </div>
        <div class="fun-activity-tracker">
          ğŸ‰ Next Fun Activity Chooser: <span id="activityChooser">Hannah</span>
        </div>
      </div>
    </div>

    <!-- Weekly Overview Section -->
    <div class="planning-section">
      <h2>ğŸ“‹ Weekly Overview & Goals</h2>
      <div class="weekly-overview">
        <div>
          <label>Last Week's Wins ğŸ†</label>
          <textarea id="lastWeekWins" rows="3" placeholder="What went well last week?"></textarea>
        </div>
        <div>
          <label>This Week's Family Goals ğŸ¯</label>
          <textarea id="weeklyGoals" rows="3" placeholder="What do we want to focus on this week?"></textarea>
        </div>
        <div>
          <label>Weekly Budget for Activities ğŸ’°</label>
          <input type="number" id="weeklyBudget" placeholder="$0" />
        </div>
        <div>
          <label>Weather Considerations ğŸŒ¤ï¸</label>
          <textarea id="weatherNotes" rows="3" placeholder="Any weather-related plans or backup ideas?"></textarea>
        </div>
      </div>
    </div>

    <!-- Placeholder: Day-by-day planner will go below -->
    <!-- Daily Planning Section -->
    <div id="dailyPlanning">
      <!-- Loop through days -->
      <script>
        const daysOfWeek = [
          "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"
        ];

        document.addEventListener("DOMContentLoaded", () => {
          const dailyPlanningDiv = document.getElementById("dailyPlanning");

          daysOfWeek.forEach((day, i) => {
            const dayId = day.toLowerCase();
            const isFunDay = day === "Friday" || day === "Saturday";

            const dayBlock = document.createElement("div");
            dayBlock.className = "day-planning";
            dayBlock.innerHTML = `
              <h3>${day} <span id="${dayId}Date"></span></h3>
              <div>
                <label>ğŸŒ… Morning</label>
                <textarea id="${dayId}-morning"></textarea>
              </div>
              <div>
                <label>â˜€ï¸ Afternoon</label>
                <textarea id="${dayId}-afternoon"></textarea>
              </div>
              <div>
                <label>ğŸŒ™ Evening</label>
                <textarea id="${dayId}-evening"></textarea>
              </div>
              <div>
                <label>ğŸ§¹ Chores</label>
                <textarea id="${dayId}-chores"></textarea>
              </div>
              <div>
                <label>ğŸ’ª Exercise</label>
                <textarea id="${dayId}-exercise"></textarea>
              </div>
              <div>
                <label>ğŸ½ï¸ Dinner</label>
                <input type="text" id="${dayId}-dinner" />
              </div>
              ${isFunDay ? `
              <div>
                <label>ğŸ‰ Fun Family Activity</label>
                <textarea id="${dayId}-fun"></textarea>
              </div>` : ''}
            `;
            dailyPlanningDiv.appendChild(dayBlock);
          });
        });
      </script>
    </div>
<script>
  const familyMembers = ['Hannah', 'Benson', 'Even', 'Lane', 'Christina', 'Holly', 'Lauren'];
  let currentActivityChooser = 0;

  function updateWeekDates() {
    const weekOfInput = document.getElementById('weekOf');
    if (!weekOfInput || !weekOfInput.value) return;

    const weekStart = new Date(weekOfInput.value);
    const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];

    days.forEach((day, index) => {
      const date = new Date(weekStart);
      date.setDate(weekStart.getDate() + index);
      const display = date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
      const span = document.getElementById(`${day}Date`);
      if (span) span.textContent = display;
    });
  }

  function updateActivityChooser() {
    const chooser = document.getElementById('activityChooser');
    if (chooser) {
      chooser.textContent = familyMembers[currentActivityChooser];
    }
  }

  function saveWeekData() {
    const data = {
      weekOf: document.getElementById('weekOf')?.value || '',
      chooserIndex: currentActivityChooser
    };
    localStorage.setItem('familyPlannerMeta', JSON.stringify(data));
  }

  function loadWeekData() {
    try {
      const raw = localStorage.getItem('familyPlannerMeta');
      if (!raw) return;
      const saved = JSON.parse(raw);
      if (saved.weekOf) {
        document.getElementById('weekOf').value = saved.weekOf;
        updateWeekDates();
      }
      if (saved.chooserIndex !== undefined) {
        currentActivityChooser = saved.chooserIndex;
        updateActivityChooser();
      }
    } catch (e) {
      console.log('No prior data to load');
    }
  }

  function planNextWeek() {
    currentActivityChooser = (currentActivityChooser + 1) % familyMembers.length;
    updateActivityChooser();

    const inputs = document.querySelectorAll('textarea, input[type="text"]');
    inputs.forEach(input => input.value = '');

    const dateInput = document.getElementById('weekOf');
    if (dateInput && dateInput.value) {
      const date = new Date(dateInput.value);
      date.setDate(date.getDate() + 7);
      dateInput.value = date.toISOString().split('T')[0];
    }

    updateWeekDates();
    saveWeekData();
    alert(`ğŸ‰ ${familyMembers[currentActivityChooser]} is choosing next weekâ€™s fun activities!`);
  }

  window.addEventListener('DOMContentLoaded', () => {
    loadWeekData();
    updateActivityChooser();
    updateWeekDates();
  });
</script>
<script>
  function generateWordDoc() {
    const weekStart = document.getElementById('weekOf').value;
    if (!weekStart) {
      alert("Please select a 'Week Of' date first.");
      return;
    }

    const start = new Date(weekStart);
    const days = ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'];
    const parts = [];

    days.forEach((day, i) => {
      const key = day.toLowerCase();
      const date = new Date(start);
      date.setDate(start.getDate() + i);
      const formattedDate = date.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric' });

      parts.push(`<h1>${day}</h1><p><strong>${formattedDate}</strong></p>`);
      ['morning', 'afternoon', 'evening', 'chores', 'exercise', 'dinner', 'fun'].forEach(section => {
        const el = document.getElementById(`${key}-${section}`);
        if (el && el.value) {
          const label = section.charAt(0).toUpperCase() + section.slice(1);
          parts.push(`<p><strong>${label}:</strong> ${el.value}</p>`);
        }
      });
      parts.push(`<hr/>`);
    });

    const html = `
      <html xmlns:o='urn:schemas-microsoft-com:office:office' 
            xmlns:w='urn:schemas-microsoft-com:office:word' 
            xmlns='http://www.w3.org/TR/REC-html40'>
      <head><meta charset='utf-8'><title>Family Planner</title></head>
      <body>${parts.join('')}</body>
      </html>
    `;

    const blob = new Blob([html], { type: 'application/msword' });
    const link = document.createElement('a');
    link.href = URL.createObjectURL(blob);

    const weekLabel = new Date(weekStart).toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
    link.download = `Family-Planner-Week-${weekLabel}.doc`;

    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }
</script>
    <!-- Mood and Reflection Toggles -->
    <div class="optional-section">
      <h2>ğŸ§  Optional Mood Check-Ins and Reflections</h2>
      <div id="optionalPrompts">
        <p><strong>How was your week emotionally?</strong></p>
        <label><input type="radio" name="mood" value="happy" /> ğŸ˜Š Happy</label>
        <label><input type="radio" name="mood" value="neutral" /> ğŸ˜ Okay</label>
        <label><input type="radio" name="mood" value="sad" /> ğŸ˜ Rough</label>

        <p><strong>Something I learned or want to remember:</strong></p>
        <textarea rows="4" placeholder="Write your weekly reflections here..."></textarea>
      </div>
    </div>

    <!-- Action Buttons -->
    <div style="margin: 40px 0; text-align: center;">
      <button class="btn" onclick="generateWordDoc()">ğŸ“„ Export to Word</button>
      <button class="btn" onclick="planNextWeek()">ğŸ”„ Plan Next Week</button>
    </div>
  </div> <!-- Close .container -->
</body>
</html>
